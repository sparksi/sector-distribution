/**
 * @file
 * BEM block for Slats.
 *
 * A common design pattern is a list of repeating content blocks typically
 * containing a headline, a short text blurb and an image.
 * This is commonly called a slat.
 *
 * A slat is kind of like a Drupal 'teaser' (view mode) but the ambiguous name
 * means it is more versatile and can be used outside of the view mode context.
 *
 * Here we establish some base level BEM-style slat behaviour
 * Use these classes to theme elements like teasers eg: via Display Suite.
 * or apply to Drupal views.
 */

.slat__media {
  @include single-transition(all, 0.05s, ease-in);
  border: 1px solid darken($gray-lighter, 10%);
  > a {
    display: block;
  }
}

.slat__title {
  a {
    &:hover,
    &:focus {
      text-decoration: underline;
      @include single-transition(all, 0.05s, ease-in);
    }
    &:visited {
      color: $brand-visited;
    }
  }
}

.slat__body {
  .lead {
    color: $text-color;
    font-size: $font-size-base;
  }
}

.slat__title--link {
  font-weight: 400;
  text-decoration: underline;
}

.slat__read-more {
  margin-top: $spacing-half;
  > a {
    &:hover,
    &:focus {
      text-decoration: none;
    }
  }
  &.btn-default {
    > a {
      color: $gray-dark;
    }
  }
}

.slat__date {
  @extend %date;
}

.slat__term {
  font-size: 14px;
  color: $gray-light;
  > a {
    &:focus {
      outline-offset: 0;
    }
  }
}

.slat__location {
  color: $gray-light;
}

.slat--tile {
  border: 1px solid $brand-border;
  padding: $spacing-half $spacing-half $spacing-base $spacing-half;
  .slat__media {
    border-bottom: none;
  }
}

.slat__link {
  position: relative;
  float: left;
  width: 100%;
  display: block;
  .slat__title {
    color: $brand-primary;
    @include single-transition(none);
  }
  .slat__body {
    color: $text-color;
  }
  .slat__date {
    color: lighten($gray-light,10%);
  }
  &:hover,
  &:focus {
    text-decoration: none;
    .slat__title {
      color: lighten($brand-primary,15%);
      text-decoration: underline;
      @include single-transition(all, 0.05s, ease-in);
    }
    .slat__body {
      color: $text-color;
    }
    .slat__date {
      color: lighten($gray-light,10%);
    }
    .slat__media {
      border: 1px solid darken($gray-lighter, 30%);
    }
  }
  &:focus {
    background-color: transparent;
    outline-offset: 0;
  }
  &:visited {
    .slat__title {
      color: $brand-visited;
    }
  }
  /* Add external link icon to links within the main content areas */
  &[href^="http://"],
  &[href^="https://"],
  &[rel*='external'] {
    .slat__read-more {
      &:after {
        font-size: 16px;
        content: '';
        @include sprite(icon--external-dark-grey);
        margin-left: 6px;
        vertical-align: middle;
      }
    }
  }
}
